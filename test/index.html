<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
<div>
    <input type="file" name="file-upload" id="file">
    <button id="btn">GET</button>

</div>

<script>
        let input = document.querySelector("#file");
        input.addEventListener("change", (event)=>{
            console.log(event.target.files);
            var form = new FormData;
            form.append("foo", event.target.files[0]);
            fetch("http://127.0.0.1:8006/form", {
                method: "POST",
                body: form
            }).then(res => res.text()).then(data => {
                document.body.firstElementChild.innerHTML = `<pre>${data}</pre>`;
            });
        });

        var form = new FormData;
        form.append("foo", "123");
        form.append("bar", "234\r\n--");


        var params = new URLSearchParams;
        params.append("foo", "123");
        params.append("bar", "234");

        var k = "123423456234";
        var obj = {
            abc: 123,
            bcd: 2342123
        }

        fetch("/form", {
            method: "POST",
            body: form
        });


        let btn = document.querySelector("#btn");
        btn.addEventListener('click', ()=>{
            fetch("/ws.cpp", {
               method: "GET"
            }).then(res => res.text()).then(data => {
                console.log(data);
            });
        });
    </script>
</body>
</html>